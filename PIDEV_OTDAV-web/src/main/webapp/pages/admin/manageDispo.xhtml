
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template = "/pages/admin/index.xhtml">
<ui:define name="add">


<h:form id="form">

	
<h1 class="text-primary">Planification horaires de disponibilités</h1>
<br/>
	
	     <div class="box-body">
              <div class="row">
              
                <div class="col-xs-1">
                  <H4>Date</H4>
                </div>
                
                <div class="col-xs-3">
                  <p:calendar id="popup" value="#{disponibilityBean.date}"  placeholder="Please Choose a Date"/>
                </div>
                
                <div class="col-xs-1">
                  <H4>Heure</H4>
                </div>
                
                <div class="col-xs-2">
                
                	    <h:selectOneMenu value="#{disponibilityBean.heure}" class="form-control">
    						<f:selectItem itemLabel="8h" itemValue="8"/>
    						<f:selectItem itemLabel="9h" itemValue="9"/>
    						<f:selectItem itemLabel="10h" itemValue="10"/>
    						<f:selectItem itemLabel="11h" itemValue="11"/>
    						<f:selectItem itemLabel="12h" itemValue="12"/>
    						<f:selectItem itemLabel="13h" itemValue="13"/>
    						<f:selectItem itemLabel="14h" itemValue="14"/>
    						<f:selectItem itemLabel="15h" itemValue="15"/>
    						<f:selectItem itemLabel="16h" itemValue="16"/>
    						<f:selectItem itemLabel="17h" itemValue="17"/>
    						<f:selectItem itemLabel="18h" itemValue="18"/>
  						</h:selectOneMenu>
                  
                </div>
                
                <div class="col-xs-2">
                   <h:commandButton id="btn1" action="#{disponibilityBean.addDisponibility()}" value ="Ajouter" class="btn btn-primary"></h:commandButton>
                </div>
      
              </div>
            </div>
            
            <br/>
            <br/>
            
            
<h1 class="text-primary">Liste des rendez-vous</h1>
                                  
<h:dataTable value="#{disponibilityBean.disponibilites}" var="disponibility" border="1" class="table table-striped" >
	
	<h:column scope="col">	
		<f:facet name="header">
			<h:outputText value="Date" />
		</f:facet>

		<h:outputText value="#{disponibility.date}" />

		<h:outputText value="#{disponibility.date}" >
		<f:convertDateTime pattern="dd.MM.yyyy"/>
		</h:outputText>
		

	</h:column>
	
	<h:column scope="col">	
		<f:facet name="header">
			<h:outputText value="Heure" />
		</f:facet>
		<h:outputText value="#{disponibility.heure}h" />
	</h:column>
	
	<h:column scope="col">	
		<f:facet name="header">
			<h:outputText value="Etat" />
		</f:facet>
		<h:outputText value="#{disponibility.etat}" />
	</h:column>
		
	<h:column scope="col">	
		<f:facet name="header">
			<h:outputText value="Demndeur" />
		</f:facet>
		<h:outputText value="#{disponibility.prenom} #{disponibility.nom}" />
	</h:column>
	
	
	

	
	<h:column scope="col">	
		<f:facet name="header">
			<h:outputText value="Action" />
		</f:facet>
		<h:commandButton action="#{disponibilityBean.Confirmate(disponibility.id)}" value="Confirmer" class="btn btn-success" rendered="#{disponibility.prenom != 'non' and disponibility.etat == 'demendé' }" /> 
<<<<<<< HEAD
	    <h:commandButton action="#{disponibilityBean.Confirmate(disponibility.id)}" value="Annuler" class="btn btn-danger" rendered="#{disponibility.etat == 'confirmé' }" /> 
=======
	    <h:commandButton action="#{disponibilityBean.Cancel(disponibility.id)}" value="Annuler" class="btn btn-danger" rendered="#{disponibility.etat == 'confirmé' }" /> 
	    <h:commandButton action="#{disponibilityBean.Delete(disponibility.id)}" value="Supprimer" class="btn btn-danger" rendered="#{disponibility.etat == 'non reserve' }" />
>>>>>>> 6f051ac3139081e39477e0a532c372d74ad623de
	    
	</h:column>
	
	


	
	
	
	
	
	
	

	

	
		
	</h:dataTable>
    
    <h:message for="btn1"/>   

    </h:form>
    
</ui:define>
    
</ui:composition>
